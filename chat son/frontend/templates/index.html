<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ankara Gezi UygulamasÄ±</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animations.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/modal.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/toast.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/onboarding.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Sohbetlerim</h2>
                <button id="new-chat-btn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Yeni Sohbet
                </button>
            </div>

            <div class="sidebar-content">
                <div class="conversations-list" id="conversations-list">
                    <!-- Sohbetler buraya JavaScript ile eklenecek -->
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span>{{ current_user.username }}</span>
                </div>
                <a href="{{ url_for('logout') }}" class="btn btn-icon" title="Ã‡Ä±kÄ±ÅŸ Yap">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
            </div>
        </div>

        <button id="toggle-sidebar" class="toggle-sidebar-btn">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Main Content -->
        <div class="main-content">
            <header class="header">
                <div class="logo-container">
                    <img src="{{ url_for('static', filename='img/1.jpeg') }}" alt="Logo" class="logo">
                    <h1 class="app-title">Ankara Gezi UygulamasÄ±</h1>
                </div>

                <div class="header-controls">
                    <button class="settings-btn" id="open-preferences-modal" title="Tercihlerini DÃ¼zenle">
                        <i class="fas fa-cog"></i>
                    </button>

                    <div class="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </div>
                </div>
            </header>

            <main class="chat-container">
                <div class="chat-messages" id="chat-messages">
                    <div class="welcome-message">
                        <h2>Ankara'yÄ± KeÅŸfedin! ğŸŒŸ</h2>
                        <p>Merhaba, ben kiÅŸisel Ankara Gezi Rehberinizim! ğŸ—ºï¸ Tercihlerinize gÃ¶re Ã¶zel gezi rotalarÄ± oluÅŸturabilirim.</p>
                        <ul>
                            <li>ğŸ—ºï¸ <strong>KiÅŸiselleÅŸtirilmiÅŸ Rotalar</strong> - "YarÄ±n Ankara'da ne yapmalÄ±yÄ±m?" gibi sorular sorabilirsiniz.</li>
                            <li>ğŸ½ï¸ <strong>Restoran Ã–nerileri</strong> - "Ankara'da en iyi kebapÃ§Ä±lar nerede?" diye sorabilirsiniz.</li>
                            <li>ğŸ›ï¸ <strong>Turistik Yerler</strong> - "Ankara'da mutlaka gÃ¶rÃ¼lmesi gereken yerler" diyebilirsiniz.</li>
                            <li>ğŸ­ <strong>Etkinlik Ã–nerileri</strong> - "Bu hafta sonu Ankara'da hangi etkinlikler var?" diye sorabilirsiniz.</li>
                            <li>â±ï¸ <strong>Zaman KÄ±sÄ±tlÄ± Rotalar</strong> - "Ankara'da 3 saatte neler yapabilirim?" ÅŸeklinde sorabilirsiniz.</li>
                        </ul>
                        <p>SaÄŸ Ã¼stteki âš™ï¸ ayarlar butonundan tercihlerinizi gÃ¼ncelleyerek daha kiÅŸiselleÅŸtirilmiÅŸ Ã¶neriler alabilirsiniz!</p>
                        <p>Ne tÃ¼r bir Ankara gezi rotasÄ± oluÅŸturmamÄ± istersiniz? ğŸ¤”</p>
                    </div>
                </div>

                <div class="typing-indicator hidden" id="typing-indicator">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>

                <div class="chat-input">
                    <form id="message-form">
                        <input type="text" id="user-input" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..." autocomplete="off">
                        <button type="button" id="voice-button" class="btn btn-icon" title="Sesli Mesaj">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button type="submit" id="send-button">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </main>
        </div>
    </div>

    <!-- User Preferences Modal -->
    <div id="preferences-modal" class="modal-overlay modal-hidden">
        <div class="preferences-modal">
            <div class="modal-header">
                <h2>Gezi Tercihleriniz</h2>
                <button class="close-modal" id="close-preferences-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="modal-content">
                <!-- BÃ¼tÃ§e -->
                <div class="preference-section">
                    <h3>BÃ¼tÃ§e (ortalama kaÃ§ lira harcayabilirsiniz?)</h3>
                    <div class="options-grid">
                        <div class="option-card" data-preference="budget" data-value="low">
                            <div class="icon"><i class="fas fa-coins"></i></div>
                            <div>DÃ¼ÅŸÃ¼k (0-500â‚º)</div>
                        </div>
                        <div class="option-card" data-preference="budget" data-value="medium">
                            <div class="icon"><i class="fas fa-money-bill"></i></div>
                            <div>Orta (500-2000â‚º)</div>
                        </div>
                        <div class="option-card" data-preference="budget" data-value="high">
                            <div class="icon"><i class="fas fa-money-bill-wave"></i></div>
                            <div>YÃ¼ksek (2000â‚º+)</div>
                        </div>
                    </div>
                </div>

                <!-- KiÅŸi SayÄ±sÄ± -->
                <div class="preference-section">
                    <h3>Kiminle Geziyorsunuz?</h3>
                    <div class="options-grid">
                        <div class="option-card" data-preference="company" data-value="alone">
                            <div class="icon"><i class="fas fa-user"></i></div>
                            <div>YalnÄ±z</div>
                        </div>
                        <div class="option-card" data-preference="company" data-value="family">
                            <div class="icon"><i class="fas fa-users"></i></div>
                            <div>Aile</div>
                        </div>
                        <div class="option-card" data-preference="company" data-value="friends">
                            <div class="icon"><i class="fas fa-user-friends"></i></div>
                            <div>ArkadaÅŸlar</div>
                        </div>
                        <div class="option-card" data-preference="company" data-value="partner">
                            <div class="icon"><i class="fas fa-heart"></i></div>
                            <div>Sevgili</div>
                        </div>
                    </div>
                </div>

                <!-- KÄ±yafet Tercihi -->
                <div class="preference-section">
                    <h3>KÄ±yafet Tercihi</h3>
                    <div class="options-grid">
                        <div class="option-card" data-preference="dress" data-value="casual">
                            <div class="icon"><i class="fas fa-tshirt"></i></div>
                            <div>GÃ¼nlÃ¼k</div>
                        </div>
                        <div class="option-card" data-preference="dress" data-value="sport">
                            <div class="icon"><i class="fas fa-running"></i></div>
                            <div>Spor</div>
                        </div>
                        <div class="option-card" data-preference="dress" data-value="elegant">
                            <div class="icon"><i class="fas fa-user-tie"></i></div>
                            <div>ÅÄ±k</div>
                        </div>
                    </div>
                </div>

                <!-- Ruh Hali -->
                <div class="preference-section">
                    <h3>Mod (Ruh Hali)</h3>
                    <div class="options-grid">
                        <div class="option-card" data-preference="mood" data-value="energetic">
                            <div class="icon"><i class="fas fa-bolt"></i></div>
                            <div>Enerjik</div>
                        </div>
                        <div class="option-card" data-preference="mood" data-value="tired">
                            <div class="icon"><i class="fas fa-bed"></i></div>
                            <div>Yorgun</div>
                        </div>
                        <div class="option-card" data-preference="mood" data-value="calm">
                            <div class="icon"><i class="fas fa-smile"></i></div>
                            <div>Sakin</div>
                        </div>
                    </div>
                </div>

                <!-- Zaman -->
                <div class="preference-section">
                    <h3>Zaman</h3>
                    <div class="options-grid">
                        <div class="option-card" data-preference="time" data-value="0-3">
                            <div class="icon"><i class="fas fa-hourglass-start"></i></div>
                            <div>0-3 Saat</div>
                        </div>
                        <div class="option-card" data-preference="time" data-value="3-6">
                            <div class="icon"><i class="fas fa-hourglass-half"></i></div>
                            <div>3-6 Saat</div>
                        </div>
                        <div class="option-card" data-preference="time" data-value="6-10">
                            <div class="icon"><i class="fas fa-hourglass-end"></i></div>
                            <div>6-10 Saat</div>
                        </div>
                        <div class="option-card" data-preference="time" data-value="10+">
                            <div class="icon"><i class="fas fa-hourglass"></i></div>
                            <div>10+ Saat</div>
                        </div>
                    </div>
                </div>

                <!-- Ä°lgi AlanlarÄ± -->
                <div class="preference-section">
                    <h3>Ä°lgi AlanlarÄ± (Birden fazla seÃ§ebilirsiniz)</h3>
                    <div class="interest-tags">
                        <span class="interest-tag" data-interest="food">Yeme & Ä°Ã§me</span>
                        <span class="interest-tag" data-interest="shopping">AlÄ±ÅŸveriÅŸ</span>
                        <span class="interest-tag" data-interest="nature">DoÄŸa</span>
                        <span class="interest-tag" data-interest="sports">Spor</span>
                        <span class="interest-tag" data-interest="theater">Tiyatro</span>
                        <span class="interest-tag" data-interest="cinema">Sinema</span>
                        <span class="interest-tag" data-interest="concert">Konser</span>
                        <span class="interest-tag" data-interest="museum">MÃ¼ze</span>
                        <span class="interest-tag" data-interest="comedy">Komedi</span>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="reset-preferences" class="btn btn-secondary">SÄ±fÄ±rla</button>
                <button id="save-preferences" class="btn btn-primary">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Zorunlu Onboarding Modal -->
    <div id="onboarding-modal" class="onboarding-overlay hidden">
        <div class="onboarding-modal">
            <div class="onboarding-header">
                <h2>Gezi Tercihlerinizi Belirleyin</h2>
                <p>Size Ã¶zel Ankara gezi rotasÄ± oluÅŸturabilmemiz iÃ§in lÃ¼tfen tercihlerinizi belirtin.</p>
            </div>

            <div class="onboarding-content">
                <div class="onboarding-step" data-step="1">
                    <h3>1. BÃ¼tÃ§enizi Belirleyin</h3>
                    <p>Ne kadar harcamayÄ± planlÄ±yorsunuz?</p>
                    <div class="options-grid">
                        <div class="option-card" data-preference="budget" data-value="low">
                            <div class="icon"><i class="fas fa-coins"></i></div>
                            <div>DÃ¼ÅŸÃ¼k (0-500â‚º)</div>
                        </div>
                        <div class="option-card" data-preference="budget" data-value="medium">
                            <div class="icon"><i class="fas fa-money-bill"></i></div>
                            <div>Orta (500-2000â‚º)</div>
                        </div>
                        <div class="option-card" data-preference="budget" data-value="high">
                            <div class="icon"><i class="fas fa-money-bill-wave"></i></div>
                            <div>YÃ¼ksek (2000â‚º+)</div>
                        </div>
                    </div>
                </div>

                <div class="onboarding-step hidden" data-step="2">
                    <h3>2. Kiminle Geziyorsunuz?</h3>
                    <p>Kimle birlikte olacaksÄ±nÄ±z?</p>
                    <div class="options-grid">
                        <div class="option-card" data-preference="company" data-value="alone">
                            <div class="icon"><i class="fas fa-user"></i></div>
                            <div>YalnÄ±z</div>
                        </div>
                        <div class="option-card" data-preference="company" data-value="family">
                            <div class="icon"><i class="fas fa-users"></i></div>
                            <div>Aile</div>
                        </div>
                        <div class="option-card" data-preference="company" data-value="friends">
                            <div class="icon"><i class="fas fa-user-friends"></i></div>
                            <div>ArkadaÅŸlar</div>
                        </div>
                        <div class="option-card" data-preference="company" data-value="partner">
                            <div class="icon"><i class="fas fa-heart"></i></div>
                            <div>Sevgili</div>
                        </div>
                    </div>
                </div>

                <div class="onboarding-step hidden" data-step="3">
                    <h3>3. KÄ±yafet Tercihiniz</h3>
                    <p>NasÄ±l giyinmeyi planlÄ±yorsunuz?</p>
                    <div class="options-grid">
                        <div class="option-card" data-preference="dress" data-value="casual">
                            <div class="icon"><i class="fas fa-tshirt"></i></div>
                            <div>GÃ¼nlÃ¼k</div>
                        </div>
                        <div class="option-card" data-preference="dress" data-value="sport">
                            <div class="icon"><i class="fas fa-running"></i></div>
                            <div>Spor</div>
                        </div>
                        <div class="option-card" data-preference="dress" data-value="elegant">
                            <div class="icon"><i class="fas fa-user-tie"></i></div>
                            <div>ÅÄ±k</div>
                        </div>
                    </div>
                </div>

                <div class="onboarding-step hidden" data-step="4">
                    <h3>4. Mod (Ruh Hali)</h3>
                    <p>Kendinizi nasÄ±l hissediyorsunuz?</p>
                    <div class="options-grid">
                        <div class="option-card" data-preference="mood" data-value="energetic">
                            <div class="icon"><i class="fas fa-bolt"></i></div>
                            <div>Enerjik</div>
                        </div>
                        <div class="option-card" data-preference="mood" data-value="tired">
                            <div class="icon"><i class="fas fa-bed"></i></div>
                            <div>Yorgun</div>
                        </div>
                        <div class="option-card" data-preference="mood" data-value="calm">
                            <div class="icon"><i class="fas fa-smile"></i></div>
                            <div>Sakin</div>
                        </div>
                    </div>
                </div>

                <div class="onboarding-step hidden" data-step="5">
                    <h3>5. Gezi Ä°Ã§in AyÄ±rdÄ±ÄŸÄ±nÄ±z Zaman</h3>
                    <p>Ne kadar sÃ¼re ayÄ±rabilirsiniz?</p>
                    <div class="options-grid">
                        <div class="option-card" data-preference="time" data-value="0-3">
                            <div class="icon"><i class="fas fa-hourglass-start"></i></div>
                            <div>0-3 Saat</div>
                        </div>
                        <div class="option-card" data-preference="time" data-value="3-6">
                            <div class="icon"><i class="fas fa-hourglass-half"></i></div>
                            <div>3-6 Saat</div>
                        </div>
                        <div class="option-card" data-preference="time" data-value="6-10">
                            <div class="icon"><i class="fas fa-hourglass-end"></i></div>
                            <div>6-10 Saat</div>
                        </div>
                        <div class="option-card" data-preference="time" data-value="10+">
                            <div class="icon"><i class="fas fa-hourglass"></i></div>
                            <div>10+ Saat</div>
                        </div>
                    </div>
                </div>

                <div class="onboarding-step hidden" data-step="6">
                    <h3>6. Ä°lgi AlanlarÄ±nÄ±z</h3>
                    <p>Ä°lgilendiÄŸiniz aktiviteleri seÃ§in (birden fazla seÃ§ebilirsiniz)</p>
                    <div class="interest-tags">
                        <span class="interest-tag" data-interest="food">Yeme & Ä°Ã§me</span>
                        <span class="interest-tag" data-interest="shopping">AlÄ±ÅŸveriÅŸ</span>
                        <span class="interest-tag" data-interest="nature">DoÄŸa</span>
                        <span class="interest-tag" data-interest="sports">Spor</span>
                        <span class="interest-tag" data-interest="theater">Tiyatro</span>
                        <span class="interest-tag" data-interest="cinema">Sinema</span>
                        <span class="interest-tag" data-interest="concert">Konser</span>
                        <span class="interest-tag" data-interest="museum">MÃ¼ze</span>
                        <span class="interest-tag" data-interest="comedy">Komedi</span>
                    </div>
                </div>
            </div>

            <div class="onboarding-footer">
                <div class="onboarding-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 16.6%;"></div>
                    </div>
                    <div class="progress-text">AdÄ±m 1/6</div>
                </div>
                <div class="onboarding-buttons">
                    <button id="prev-step" class="btn btn-secondary" disabled>Geri</button>
                    <button id="next-step" class="btn btn-primary">Ä°leri</button>
                    <button id="finish-onboarding" class="btn btn-success hidden">Tamamla</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Map Modal (dinamik olarak JavaScript ile oluÅŸturulacak) -->

    <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7q7Foqk48QL4xq6XcG99MQaapzidje5Y&callback=Function.prototype"></script>
    
    <!-- Application Scripts -->
    <script src="{{ url_for('static', filename='js/onboarding.js') }}"></script>
    <script src="{{ url_for('static', filename='js/preferences.js') }}"></script>
    <script src="{{ url_for('static', filename='js/animations.js') }}"></script>
    <script src="{{ url_for('static', filename='js/api.js') }}"></script>
    <script src="{{ url_for('static', filename='js/sidebar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    
    <script src="{{ url_for('static', filename='js/speech.js') }}"></script>

</body>
</html>